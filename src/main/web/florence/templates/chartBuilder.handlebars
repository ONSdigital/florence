<div class="builder js-chart-builder overlay">
    <div class="chart-builder__inner builder__inner">



        <div id="edit-chart" class="builder__editor builder__editor--chart">


            <div class="">
               FILE NAME: {{filename}} <a href='../chartconfig?uri={{uri}}' target ="data"> JSON</a>
            </div>
            <div class="tab--background">
                <nav class="tabs--js">
                    <ul class="list--neutral flush">
                        <li class="tab__item width-sm--6">
                            <a href="#" class="tab__link tab__link--active">Chart</a>
                        </li>
                        <li class="tab__item width-sm--6">
                            <a href="#" class="tab__link">Metadata</a>
                        </li>
                        <li class="tab__item width-sm--6">
                            <a href="#" class="tab__link">Series</a>
                        </li>
                        <li class="tab__item width-sm--6">
                            <a href="#" class="tab__link">Advanced</a>
                        </li>
                        <li class="tab__item width-sm--6">
                            <a href="#" class="tab__link">Annotation</a>
                        </li>
                    </ul>
                </nav>
            </div>


            <div id='chart-panel' class="js-chart-builder-panel">
                <label for="chart-data">Chart data (date in yyy-mm-dd)</label>
                <textarea id="chart-data" class="refresh-chart" placeholder="Paste your data here" rows="4"
                          cols="120"></textarea>
                <label>Chart type<br>
                    <div class="select-wrap">
                        <select id="chart-type" class="refresh-chart">
                            {{#select chartType}}
                                <option value="bar">Bar Chart</option>
                                <option value="rotated">Bar Chart (rotated)</option>
                                <option value="line">Line Chart</option>
                                <option value="area">Area Chart</option>
                                <option value="barline">Bar + Line Chart</option>
                                <option value="rotated-barline">Bar + Line Chart (rotated)</option>
                                <option value="dual-axis">Dual Axis</option>
                                <option value="scatter">Scatter Plot Chart</option>
                                <option value="pie">Pie Chart</option>
                                <option value="population">Population Pyramid</option>
                                <option value="confidence-interval">Confidence Interval</option>
                                <option value="rotated-confidence-interval">Confidence Interval (rotated)</option>
                                <option value="box-and-whisker">Box and Whisker</option>
                            {{/select}}
                        </select>
                    </div>
                </label>
                <div id="extras" class="refresh-chart">
                </div>
                <br/>
                <label>Label interval<br>
                <input type="text" id="chart-label-interval" class="refresh-chart" placeholder="[Label interval]"
                       value="{{labelInterval}}"/>
                </label>

                <label>Decimal places<br>
                    <input type="text" id="chart-decimal-places" class="refresh-chart" placeholder="[Decimal places]"
                           value="{{decimalPlaces}}"/>
                </label>
                <br/>

                    <label for="chart-title">Overwrite default y-axis
                        <input type="text" id="chart-min" class="refresh-chart" placeholder="[Min]" value="{{yMin}}"/>
                        <input type="text" id="chart-max" class="refresh-chart" placeholder="[Max]" value="{{yMax}}"/>
                    </label>

                <br/>
                  <div class="refresh-chart">
                    <legend>Colours</legend>

                    {{#if_eq palette 'blue'}}
                    <input type="radio" name="palette" id="default" value="colour" />
                    <label for="default">Colour</label>
                    <input type="radio" name="palette" id="blue" value="blue" checked="checked"/>
                    <label for="blue">Blue</label>
                    {{else}}
                    <input type="radio" name="palette" id="default" value="colour" checked="checked"/>
                    <label for="default">Colour</label>
                    <input type="radio" name="palette" id="blue" value="blue"/>
                    <label for="blue">Blue</label>
                    {{/if_eq}}

{{!-- 
                      <input type="radio" name="palette" id="default" value="colour" {{#if_eq palette 'colour'}}checked="checked"{{/if_eq}}/>
                      <label for="default">Colour</label>
                      <input type="radio" name="palette" id="blue" value="blue" {{#if_eq palette 'blue'}}checked="checked"{{/if_eq}}/>
                      <label for="blue">Blue</label>
 --}}

                  </div>

                
            </div>
            

            <div id='metadata-panel' class="js-chart-builder-panel">
                <span class="refresh-text">
                    <label for="chart-title">Title
                        <input type="text" id="chart-title" class="half" placeholder="[Title]" value="{{title}}"/>
                    </label>
                    <label for="chart-subtitle">Sub-title
                        <input type="text" id="chart-subtitle" class="half" placeholder="[Subtitle]" value="{{subtitle}}"/>
                    </label>
                    <label for="chart-source">Source
                        <input type="text" id="chart-source" placeholder="[Source]" class="half" value="{{source}}"/>
                    </label>
                </span>

                <label for="chart-unit">Units
                    <input type="text" id="chart-unit" class="refresh-chart half" placeholder="[Unit]" value="{{unit}}"/>
                </label>
                <label for="chart-alt-text">X axis label</label>
                <input type="text" id="chart-x-axis-label" style="width: 99.7%" class="refresh-chart"
                   placeholder="[X axis label]" value="{{xAxisLabel}}"/>



                <label for="chart-alt-text">Alt text</label>
                <textarea id="chart-alt-text" class="refresh-text" placeholder="[Alt text]">{{altText}}</textarea>

                <label for="chart-notes">Notes</label>
                <textarea id="chart-notes" class="refresh-text" placeholder="Add chart notes here" rows="4"
                      cols="120">{{notes}}</textarea>
Sample markdown:[I'm an inline-style link with title](https://www.ons.gov.uk "ONS Homepage")
            </div>
            
            {{!-- <div id='series-panel' class="js-chart-builder-panel workspace-edit"> --}}
            <div id='series-panel' class="js-chart-builder-panel refresh-chart">
{{!-- <div class="edit-section" id="charts">
    <div id="chart-list" class="edit-section__content">
        <div id="sortable-chart" class="edit-section__sortable">
            {{#each this.temp_series}}

                <div id="{{index}}" class="edit-section__sortable-item ui-sortable-handle">
                    <div class="edit-section__title">{{title}}</div>

                   <label>Chart type<br>
                        <div class="select-wrap">
                            <select id="chart-type" class="refresh-chart">
                                {{#select chartType}}
                                    <option value="bar">Bar Chart</option>
                                    <option value="rotated">Bar Chart (rotated)</option>
                                    <option value="line">Line Chart</option>
                                    <option value="area">Area Chart</option>
                                    <option value="barline">Bar + Line Chart</option>
                                    <option value="rotated-barline">Bar + Line Chart (rotated)</option>
                                    <option value="dual-axis">Dual Axis</option>
                                    <option value="scatter">Scatter Plot Chart</option>
                                    <option value="pie">Pie Chart</option>
                                    <option value="population">Population Pyramid</option>
                                    <option value="confidence-interval">Confidence Interval</option>
                                    <option value="rotated-confidence-interval">Confidence Interval (rotated)</option>
                                    <option value="box-and-whisker">Box and Whisker</option>
                                {{/select}}
                            </select>
                        </div>
                    </label>
                    <br/>
                    <div class="refresh-chart">
                    <label>Stack bars<input type="checkbox" id="tooltip" value="tooltip_checkbox" {{#if isStacked}}checked{{/if}}></label>
                    <label>highlight<input type="checkbox" id="markers" value="markers_checkbox" {{#if isHighlight}}checked{{/if}} ></label>
                    </div>
                </div>
            {{/each}}
        </div>
        
    </div>
</div>
 --}}

            </div>
            
            <div id='advanced-panel' class="js-chart-builder-panel refresh-chart">

                <label for="show-tooltip" class="checkbox-label">Show tooltips</label>
                {{#if_eq showTooltip false}}
                <input id="show-tooltip" name="Show Tooltip" checked type="checkbox">
                {{else}}
                <input id="show-tooltip" name="Show Tooltip" checked type="checkbox">
                {{/if_eq}}

                     
                <label for="show-marker" class="checkbox-label">Show marker points</label>
                <input id="show-marker" name="Show Marker" {{#if showMarker}}checked{{/if}} type="checkbox">

            

                <br/>

                <label>X-axis position<br>
                    <div class="select-wrap">
                        <select id="position-x-axis" class="">
                            {{#select xAxisPos}}
                                <option value="bottom">bottom</option>
                                <option value="top">top</option>
                            {{/select}}
                        </select>
                    </div>
                </label>
                <label>Y-axis position{{ yAxisPos}}<br>
                    <div class="select-wrap">
                        <select id="position-y-axis" class="">
                            {{#select yAxisPos}}
                                <option value="left">left</option>
                                <option value="right">right</option>
                            {{/select}}
                        </select>
                    </div>
                </label>


                <br/>


                <label>Aspect ratio<br>
                    <div class="select-wrap">
                        <select id="aspect-ratio" class="">
                            {{#select aspectRatio}}
                                <option value="0.56">16:9</option>
                                <option value="0.75">4:3</option>
                                <option value="0.42">21:9</option>
                                <option value="1">1:1</option>
                                <option value="1.3">10:13</option>
                            {{/select}}
                        </select>
                    </div>
                </label>


                <br/>



                <label>Use configuration from existing chart<br>
                    <input type="text" id="chart-config-URL" class="loadExisting" placeholder="[URL]"
                           value="{{labelURL}}"/>
                </label>eg: 8bd65442, fc0d5bc1, 27fabb49

            </div>

            <div id='annotation-panel' class="js-chart-builder-panel">
                <div class="">
                    <button class="btn btn--subtle btn-add-section" id="add-annotation">Add annotation</button>
                </div>


                <div id="annotation-chart" class="edit-section__sortable">
                    {{#each this.annotations}}

                        <div id="annotation-{{@index}}" class="edit-section__sortable-item ui-sortable-handle refresh-chart">
                            
                            <div class="edit-section__title">{{title}}</div>

                            <button class="btn btn--subtle btn-delete-section" id="delete-annotation-{{@index}}">delete</button>
                           <label>Chart type {{id}}<br>
                                <div class="select-wrap">
                                    <select id="chart-type" class="">
                                        {{#select targetDevice}}
                                            <option value="bar">Mobile</option>
                                            <option value="rotated">Desktop</option>
                                            <option value="line">Tablet</option>
                                        {{/select}}
                                    </select>
                                </div>
                            </label>
                            <br/>
                            <label for="chart-title">X Position
                                <input type="text" id="note-x-{{@index}}" class="half" placeholder="[x]" value="{{x}}"/>
                            </label>
                            <label for="chart-title">Y Position
                                <input type="text" id="note-y-{{@index}}" class="half" placeholder="[y]" value="{{y}}"/>
                            </label>

                            <br/>
                            <label for="chart-notes">Notes</label>
                                <textarea id="chart-notes-{{@index}}" class="" placeholder="Add annotation here" rows="4" cols="120">{{title}}</textarea>

                            <br/>
                            
                            <label>Hide on this screen size<input type="checkbox" id="is-hidden-{{@index}}" value="display_checkbox" {{#if isHidden}}checked{{/if}} ></label>
                        </div>
                    {{/each}}
                </div>

            </div>

        </div>


        <div id="preview-chart" class="builder__preview builder__preview--chart">

            <span id="chart-title-preview"></span>
            </br>
            <span id="chart-subtitle-preview"></span>

            <div id="chart"></div>


            <span id="chart-source-preview"></span>
            <span id="chart-notes-preview"></span>
            <div>
            ZOOM SLIDER: Percentage size
            <div id="chart-slider"></div>
            <div>Mobile | Tablet | Desktop</div>
            
            </div>
        </div>

        <div class="builder__footer">
            <button class="btn btn--positive btn-chart-builder-create">Save chart</button>
            <button class="btn btn-chart-builder-cancel">Cancel</button>
        </div>

    </div>


    <div id="hiddenDiv" style="display:none">
        <canvas id="hiddenCanvas"></canvas>

    </div>


    <div id="hiddenSvgForDownload"></div>
    <canvas id="hiddenCanvasForDownload"></canvas>

</div>